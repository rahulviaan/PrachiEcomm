@*@model IEnumerable<PrachiIndia.Sql.EbookOrder>*@
@model PagedList.IPagedList<PrachiIndia.Portal.Areas.CPanel.Models.EbookOrder>
@using System.Web.Mvc.Ajax;
@using PrachiIndia.Web.Areas.Model;
@using PagedList.Mvc;
<style type="text/css">
    #tbody a {
        cursor: pointer;
    }
</style>


    <div class="row">
        <div class="col-md-12">
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h2>e-Book Request (@ViewBag.TotalOrder)</h2>
                </div>
                <div class="table-responsive panel-body">

                    <table class="table table-bordered" id="Check">
                        <thead>
                            <tr>
                                @*<th>Sr No#</th>*@
                                <th>PO No#</th>
                                <th>School Name</th>
                                <th>Email</th>
                                <th>Mobile</th>
                                <th>EmailConfirmed</th>
                                <th>MobileConfirmed</th>
                                <th>Date</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        @{
                            int count = 0;
                            <tbody id="tbody">

                                @foreach (var content in Model)
                                {
                                    <tr id="row_" @content.RequestId>
                                        @*<td>@(count + 1)</td>*@
                                        <td>@content.RequestId</td>
                                        <td>@content.SchoolName</td>
                                        <td>@content.EmailAddres</td>
                                        <td>@content.Mobile</td>
                                        @if (content.EmailConfirmed) {                                      
                                        <td style='text-align:center;color:green;'><i class='fa fa-check'></i></td>
                                        }
                                        else {
                                        <td style='text-align:center;color:red;'><i class='fa fa-times'></i></td>
                                        }
                                        @if (content.MobileConfirmed)
                                        {
                                            <td style='text-align:center;color:green;'><i class='fa fa-check'></i></td>
                                        }
                                        else
                                        {
                                            <td style='text-align:center;color:red;'><i class='fa fa-times'></i></td>
                                        }
                                        <td>@content.CreatedDate.ToString("dd-MMM-yyy hh:mm tt")</td>
                                        <td>

                                            <a title="Veiw Form" class="text-primary" href="@Url.Action("VieworderForm", "EbookOrder", new { RequestID = content.RequestId })" target="_blank"><i class="fa fa-eye"></i></a>&nbsp;&nbsp;&nbsp;
                                            @if (content.Status == false && content.MobileConfirmed && content.EmailConfirmed)
                                            {
                                                
                                                @Html.Label("Verified", new { id = "Verified_" + @content.RequestId });

                                                    
                                               <a title="Get the sticker here!" onclick="Verifyorder('@content.RequestId')"><i class="fa fa-share" aria-hidden="true"></i></a>
                                                    //<a title="Get the sticker here!" href="@Url.Action("VerifyOrder","EbookOrder",new { RequestID = content.RequestId })"><i class="fa fa-share" aria-hidden="true"></i></a>
                                                @*@Ajax.ActionLink("Verify", "VerifyOrder", new { RequestID = content.RequestID }, new AjaxOptions {HttpMethod = "Get", OnSuccess="Success"})*@
                                            }
                                            else
                                            {
                                                <a title="Get the sticker here!" href="@Url.Action("Sticker_Preview","EbookOrder",new { RequestID = content.RequestId })"><i class="fa fa-print" aria-hidden="true"></i></a>
                                            }

                                             @if (!content.MobileConfirmed && !content.MobileConfirmed)
                                             {
                                                <a title="Resend confirmational mail" id="@content.RequestId" class="resend"><i class="fa fa-envelope-o" aria-hidden="true"></i></a>
                                             }
                                            
                                        </td>
                                    </tr>
                                    count = (count + 1);
                                }
                            </tbody>
                        }
                    </table>
                    Page @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) of @Model.PageCount
                    @Html.PagedListPager(Model, page => Url.Action("ViewEbookOrder", new { page, Model }))
                </div>
            </div>
        </div>
    </div>



@section scripts{

    @Scripts.Render("~/bundles/jqueryUnobtrusive")

}
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
<link href="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css" rel="stylesheet">
<script type="text/javascript">
    $(document).ready(function () {
        var Message = '@ViewBag.Message';
        if (Message == "SUCCESS") {
            toastr.success("Content deleted successfully", '', { timeOut: 5000 })
        }

    })
</script>