@model LibraryVM
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}


    <div class="col-md-12 form-group text-center" style="padding-top:2%;">
        <img src="~/images/login-icon.png" style="width:200px;" />
    </div>
    <div class="col-md-12" style="width: 40%;margin: 0 auto;">
        <form enctype="multipart/form-data" asp-controller="home" asp-action="Configuration"
              method="post" class="mt-3">


            <div class="form-group col-md-12">
                <label asp-for="ConfigurationFile" class="col-form-label"></label>
                <div class="custom-file">
                    <input asp-for="ConfigurationFile" class="form-control custom-file-input">
                    <label class="custom-file-label">Choose File...</label>
                </div>
            </div>

            <div asp-validation-summary="All" class="text-danger"></div>

            <div class="form-group text-center col-md-12">
                <button type="submit" id="UploadConfiguration" class="btn btnCreate">Create</button>
            </div>
        </form>
    </div>

<a asp-controller="Account" asp-action="Login" id="login" class="btn btn-default subjectBtn" style="position:fixed;right: 0;top: 2%;z-index: 9999999;  display:none;  border-radius: 20px 0 0 20px;width: auto;box-shadow: 0px 4px 1px #ccc!important;">
    <i class="ft-lock" aria-hidden="true"></i>
    Login
</a>
@section Scripts {
    <script>
            $(document).ready(function () {
                $('.custom-file-input').on("change", function () {
                    var fileName = $(this).val().split("\\").pop();
                    $(this).next('.custom-file-label').html(fileName);
                });

                //$(".progress-bar").css("width", "50%");
            });

            $("#UploadConfiguration").click(function (e) {
                e.preventDefault();
                var data = new FormData(this.form);
                //doPoll();
                $("#Progresstext").css("display", "block");
                $("#Progressbar").css("display", "flex");
                UploadConfiguration();
                 $.ajax(
                   {
                       url: '@Url.Action("Configuration", "Home")',
                       type: 'post',
                       data: data,
                       processData: false,
                       contentType: false,
                         success: function (data) {
                           //$("#loader").css("display", "none");
                           //toastr.success('Content Uploaded Successfully....');
                           //setTimeout(window.location.reload(), 20000);
                             var redirectedUrl = '@Url.Action("Login", "Account")'
                             window.location.replace(redirectedUrl);
                       }
                   });
            })

    </script>
}
<style>
    .nav.navbar-nav.mr-auto.float-left {
        display: none;
    }

    .nav.navbar-nav.float-right {
        display: none;
    }

    .main-menu.menu-fixed.menu-light.menu-accordion.menu-shadow {
        display: none;
    }

    body.vertical-layout.vertical-menu .content, body.vertical-layout.vertical-menu .footer {
        margin-left: 0;
    }

    .ft-lock {
        float: left;
        color: #00366c;
        background-color: #ffae00;
        padding: 10px;
        border-radius: 50%;
        font-size: 1.2em;
        position: relative;
        top: -9px;
        text-shadow: 2px 2px 3px #796a6a;
        left: -9px;
    }

    .custom-file-label {
        line-height: 0 !important;
        padding: 20px !important;
    }

        .custom-file-label::after {
            line-height: 0 !important;
            padding: 20px !important;
        }
</style>